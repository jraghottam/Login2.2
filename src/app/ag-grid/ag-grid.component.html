<!-- Button to clear selection -->
<!-- <button (click)="clearSelection()">Clear Selection</button> -->
<!-- AG Grid Angular Component -->


<div class="container">
    <div class="row">
      <div class="col-sm">
        <button type="button" class="btn btn-outline-primary" data-toggle="modal" (click)="openCreateModal()">Create User</button>
      </div>
      <div class="col-sm">
        <button type="button" class="btn btn-outline-secondary" (click)="openUpdateModal()">Update User</button>
      </div>
      <div class="col-sm">
        <button type="button" class="btn btn-outline-danger" (click)="openDeleteModal()">Delete User</button>
      </div>
    </div>
  </div>
  <ag-grid-angular 
      style="width: 70%; height: 80%"
      class="ag-theme-alpine"
      [columnDefs]="columnDefs"
      [rowData]="rowData$ | async"
      [rowSelection]="'multiple'"
      [animateRows]="true"
      (gridReady)="onGridReady($event)"
      
    ></ag-grid-angular>
  
    <div class="modal fade.show" id="CreateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="CreateModlaLongTitle">User Registration</h5>
          <button type="button" class="close" (click)="CloseCreateModal()" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="createForm">
            <div class="form-group">
              <label for="name" class="col-form-label">UserName:</label>
              <input type="text" formControlName="name" class="form-control" id="name">
            </div>
            <div class="form-group">
              <label for="email" class="col-form-label">E-Mail-ID:</label>
              <input type="email" formControlName="email" class="form-control" >
            </div>
            <div class="form-group">
              <label for="password" class="col-form-label">Password:</label>
              <input type="password" formControlName="password" class="form-control" >
            </div>
            <div class="form-group">
              <label for="role" class="col-form-label">Role:</label>
              <input type="text" formControlName="role" class="form-control" >
            </div>
            
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="CloseCreateModal()">Close</button>
          <button type="button" class="btn btn-primary" (click)="createuser()">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  
  
  
  
  <div class="modal fade.show" id="UpdateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="UpdateModlaLongTitle">User Update</h5>
          <button type="button" class="close" (click)="CloseUpdateModal()" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="updateForm">
            <div class="form-group">
              <label for="userid" class="col-form-label">UserID:</label>
              <input type="number" formControlName="userid"  class="form-control" id="userid">
            </div>
            <div class="form-group">
              <label for="name" class="col-form-label">UserName:</label>
              <input type="text" formControlName="name" class="form-control" id="name">
            </div>
            <div class="form-group">
              <label for="email" class="col-form-label">E-Mail-ID:</label>
              <input type="email" formControlName="email"  class="form-control" >
            </div>
            <div class="form-group">
              <label for="role" class="col-form-label">Role:</label>
              <input type="text" formControlName="role" class="form-control" >
            </div>
            
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="CloseUpdateModal()">Close</button>
          <button type="button" class="btn btn-primary" (click)="update()">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  
  
  <div class="modal fade.show" id="DeleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="UDModlaLongTitle">User Delete</h5>
          <button type="button" class="close" (click)="CloseDeleteModal()" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="deleteForm">
            <div class="form-group">
              <label for="userid" class="col-form-label">User ID</label>
              <input type="number" formControlName="userid" class="form-control" id="userid">
            </div>
            
            
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="CloseDeleteModal()">Close</button>
          <button type="button" class="btn btn-primary"(click)="delete()" >Save changes</button>
        </div>
      </div>
    </div>
  </div>  